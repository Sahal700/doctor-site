* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Roboto", sans-serif;
}
html {
  scroll-behavior: smooth;
}

@media (max-width: 768px) {
  section, .section, [id] {
    scroll-margin-top: 280px /* Larger offset for mobile */
  }
}

.line {
  transition: transform 0.3s ease, opacity 0.3s ease;
  transform-origin: center;
}

.active .top {
  transform: rotate(45deg) translate(0, 6px);
}

.active .middle {
  opacity: 0;
}

.active .bottom {
  transform: rotate(-45deg) translate(0, -6px);
}

/* Mobile menu container animation */
.mobile-menu {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transform: scaleY(0.95);
  transform-origin: top;
  transition: max-height 0.4s ease, opacity 0.4s ease, transform 0.4s ease;
  position: relative; /* ADD THIS */
  width: 100%; /* ADD THIS */
  left: 0; /* ADD THIS */
}
/* Mobile menu open state */
.mobile-menu.open {
  max-height: 1000px;           /* large enough to fit all items */
  opacity: 1;
  transform: scaleY(1);
}

/* Mobile menu items */
.menu-item {
  white-space: nowrap;
  display: block;
  transform: translateX(-20px);
  opacity: 0;
  transition: transform 0.4s ease, opacity 0.4s ease;
  text-decoration: none;
  color: inherit;
  padding: 0.75rem 0;
  width: 100%;
} 



/* Slide-in when menu opens - ensures perfect alignment */
.mobile-menu.open .menu-item {
  transform: translateX(0) translateZ(0); /* ADD translateZ(0) for GPU acceleration */
  opacity: 1;
  left: 0; /* ENSURE THIS */
}

.mobile-menu:not(.open) .menu-item {
  transform: translateX(-20px) translateZ(0);
  opacity: 0;
  left: 0;
}

/* Stagger animation for items */
.mobile-menu.open .menu-item:nth-child(1) { transition-delay: 0.05s; }
.mobile-menu.open .menu-item:nth-child(2) { transition-delay: 0.10s; }
.mobile-menu.open .menu-item:nth-child(3) { transition-delay: 0.15s; }
.mobile-menu.open .menu-item:nth-child(4) { transition-delay: 0.20s; }
.mobile-menu.open .menu-item:nth-child(5) { transition-delay: 0.25s; }
.mobile-menu.open .menu-item:nth-child(6) { transition-delay: 0.30s; }
.mobile-menu.open .menu-item:nth-child(7) { transition-delay: 0.35s; }

/* Optional: make links look neat */
.mobile-menu nav {
  display: flex;
  flex-direction: column;
  gap: 0;
  padding: 0;
  width: 100%;
  position: relative; /* ADD THIS */
  left: 0; /* ADD THIS */
}

/* Additional fix: ensure nav container has no extra margins */
.mobile-menu nav a {
  margin: 0;
  text-align: left;            /* ensure left alignment */
}